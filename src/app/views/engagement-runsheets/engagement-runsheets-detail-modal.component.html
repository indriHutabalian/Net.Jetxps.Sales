<form #form="ngForm" (submit)="save(data)">

  <div [config]="{ show: true }" bsModal #autoShownModal="bs-modal" (onHidden)="onHidden()" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-auto-name">
    <div class="modal-dialog modal-lg">
      <app-card-loader *ngIf="loading"></app-card-loader>

      <div class="modal-content" *ngIf="data">
        <div class="modal-header">
          <h5 id="dialog-auto-name" class="modal-title pull-left">Detail</h5>
          <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-engagement-runsheets-list-item [item]="data"></app-engagement-runsheets-list-item>

          <hr/>
          <h6>Clients</h6>
          <table class="table">
            <tr *ngFor="let item of data.engagementRunsheetItems">
              <td>
                <div class="row">

                  <div class="col-md-3">
                    <div class="description-block">
                      <label>CLIENT</label>
                      {{ item.prospectClientName }}
                      <br/> {{ item.prospectClientAddress }}
                      <br/> {{ item.prospectClientPhone }}
                      <br/> {{ item.prospectClientEmail }}
                    </div>
                  </div>
                  <div class="col-md-6" *ngIf="item.isDone">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Selling Type</label>
                          {{ item.serviceTypeName || '-' }}
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Status</label>
                          {{ item.engagementStatusCode }} - {{ item.engagementStatusName }}
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>PIC</label>
                          {{ item.pic || '-' }}
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Phone</label>
                          {{ item.phone || '-' }}
                        </div>
                      </div>
                      <div *ngIf="item.serviceTypeCode == 'OUTLET'">
                        <div class="col-md-6">
                          <div class="description-block">
                            <label>Industry</label>
                            {{ item.industryType || '-' }}
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="description-block">
                            <label>Service Type</label>
                            {{ item.serviceTypeName || '-' }}
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="description-block">
                            <label>Shipment Volume / Month</label>
                            {{ item.volume || '-' }}
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="description-block">
                            <label>Product Type</label>
                            {{ item.productTypeName || '-' }}
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="description-block">
                            <label>Forecast Amount / Month</label>
                            {{ item.forecastAmount || '-' }}
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Monthly Forecast Close</label>
                          {{ item.forecastClose || '-' }}
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Image</label>
                          <i *ngIf="!item.image">-</i>
                          <a href="https://jetstg.blob.core.windows.net{{ item.image }}" target="_blank" *ngIf="item.image">Open</a>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="description-block">
                          <label>Mom</label>
                          <i *ngIf="!item.mom">-</i>
                          <a href="https://jetstg.blob.core.windows.net{{ item.mom }}" target="_blank" *ngIf="item.mom">Open</a>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12">
                        <div class="description-block">
                          <label>Remarks</label>
                          {{ item.remarks || '-' }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-3" *ngIf="item.isDone">
                    <div class="description-block">
                      <label>
                        <i class="fa" [ngClass]="{ 'fa-check text-success': item.isSuccess, 'fa-times text-danger': !item.isSuccess }"></i>
                        &nbsp;Sukses</label>
                    </div>

                    <div class="description-block">
                      <label>
                        <i class="fa" [ngClass]="{ 'fa-check text-success': !item.isCompleted, 'fa-times text-danger': item.isCompleted }"></i>
                        &nbsp;Perlu dihubungi lagi</label>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</form>